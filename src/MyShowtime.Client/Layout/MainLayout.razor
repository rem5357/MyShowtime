@using MyShowtime.Client
@inherits LayoutComponentBase
@inject NavigationManager Navigation

<div class="app-shell">
    <header class="app-header">
        <div class="brand">
            <span class="brand-title">MyShowtime Web Companion</span>
        </div>
        <div class="header-actions">
            <AuthorizeView>
                <Authorized>
                    <div class="user-info">
                        <span class="user-name">@context.User.Identity?.Name</span>
                        <button class="logout-link" @onclick="Logout">Logout</button>
                    </div>
                </Authorized>
            </AuthorizeView>
            <div class="build-badge header-build">Version @BuildInfo.Version &nbsp;&nbsp; Build @BuildInfo.BuildNumber</div>
            <a href="https://www.themoviedb.org/" target="_blank" rel="noreferrer noopener">Powered by TMDB</a>
        </div>
    </header>

    <main class="app-content">
        @Body
    </main>
</div>

@code {
    private void Logout()
    {
        Navigation.NavigateTo("authentication/logout");
    }
}
